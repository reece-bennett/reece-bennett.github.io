{"version":3,"sources":["index.js","smoothScroll.js"],"names":["$","selectors","document","querySelector","header","headerHeight","offsetHeight","yPos","offsetTop","checkHeader","window","pageYOffset","classList","add","remove","getElementY","query","getBoundingClientRect","top","doScrolling","element","duration","start","startingY","elementY","diff","body","scrollHeight","innerHeight","requestAnimationFrame","step","timestamp","t","time","percent","Math","min","scrollTo","onscroll","addEventListener","toggle","reURL","RegExp","location","host","reID","links","getElementsByTagName","i","length","l","test","href","match"],"mappings":"AAAA,MAAAA,EAAAC,GAAAC,SAAAC,cAAAF,GAEAG,OAAAJ,EAAA,UACAK,aAAAD,OAAAE,aACAC,KAAAP,EAAA,UAAAQ,UAAAH,aAEA,SAAAI,cACAC,OAAAC,aAAAJ,KACAH,OAAAQ,UAAAC,IAAA,SAEAT,OAAAQ,UAAAE,OAAA,SCLA,SAAAC,YAAAC,GACA,OAAAN,OAAAC,YAAAT,SAAAC,cAAAa,GAAAC,wBAAAC,IAAAb,aAGA,SAAAc,YAAAC,EAAAC,GACA,IAQAC,EARAC,EAAAb,OAAAC,YACAa,EAAAT,YAAAK,GAGAK,GADAvB,SAAAwB,KAAAC,aAAAH,EAAAd,OAAAkB,YAAA1B,SAAAwB,KAAAC,aAAAjB,OAAAkB,YAAAJ,GACAD,EAMAE,GAGAf,OAAAmB,uBAAA,SAAAC,EAAAC,GACAT,IAAAA,EAAAS,GAEA,IATAC,EASAC,EAAAF,EAAAT,EAEAY,EAAAC,KAAAC,IAAAH,EAAAZ,EAAA,GAGAa,GAdAF,EAcAE,GAdA,GAAA,EAAAF,EAAAA,EAAAA,GAAAA,EAAA,IAAA,EAAAA,EAAA,IAAA,EAAAA,EAAA,GAAA,EAgBAtB,OAAA2B,SAAA,EAAAd,EAAAE,EAAAS,GAGAD,EAAAZ,GACAX,OAAAmB,sBAAAC,MDvBApB,OAAA4B,SAAA7B,YACAA,cAEAT,EAAA,kBAAAuC,iBAAA,SAAA,KACAnC,OAAAQ,UAAA4B,OAAA,WC4BA,IAHA,IAAAC,MAAA,IAAAC,OAAAhC,OAAAiC,SAAAC,MACAC,KAAA,MACAC,MAAA5C,SAAA6C,qBAAA,KACAC,EAAA,EAAAA,EAAAF,MAAAG,OAAAD,IAAA,CACA,MAAAE,EAAAJ,MAAAE,GACAP,MAAAU,KAAAD,EAAAE,OAAAF,EAAAE,KAAAC,MAAAR,OACAK,EAAAX,iBAAA,SAAA,KACApB,YAAA+B,EAAAE,KAAAC,MAAAR,MAAA,GAAA,MAEAzC,OAAAQ,UAAAE,OAAA","file":"script.min.js","sourcesContent":["const $ = selectors => document.querySelector(selectors);\n\nconst header = $(\"header\");\nconst headerHeight = header.offsetHeight;\nconst yPos = $(\"#about\").offsetTop - headerHeight;\n\nfunction checkHeader() {\n  if (window.pageYOffset >= yPos) {\n    header.classList.add(\"shown\");\n  } else {\n    header.classList.remove(\"shown\");\n  }\n};\n\nwindow.onscroll = checkHeader;\ncheckHeader();\n\n$(\"#navbar-button\").addEventListener(\"click\", () => {\n  header.classList.toggle(\"open\");\n});","/*\r\n* Smooth scrolling when clicking on same-page links\r\n* Adapted from: https://stackoverflow.com/a/39494245\r\n*/\r\n\r\nfunction getElementY(query) {\r\n  return window.pageYOffset + document.querySelector(query).getBoundingClientRect().top - headerHeight;\r\n}\r\n\r\nfunction doScrolling(element, duration) {\r\n  var startingY = window.pageYOffset\r\n  var elementY = getElementY(element)\r\n  // If element is close to page's bottom then window will scroll only to some position above the element.\r\n  var targetY = document.body.scrollHeight - elementY < window.innerHeight ? document.body.scrollHeight - window.innerHeight : elementY\r\n  var diff = targetY - startingY\r\n  // Easing function: easeInOutCubic\r\n  // From: https://gist.github.com/gre/1650294\r\n  var easing = function (t) { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 }\r\n  var start\r\n\r\n  if (!diff) return\r\n\r\n  // Bootstrap our animation - it will get called right before next frame shall be rendered.\r\n  window.requestAnimationFrame(function step(timestamp) {\r\n    if (!start) start = timestamp\r\n    // Elapsed miliseconds since start of scrolling.\r\n    var time = timestamp - start\r\n    // Get percent of completion in range [0, 1].\r\n    var percent = Math.min(time / duration, 1)\r\n    // Apply the easing.\r\n    // It can cause bad-looking slow frames in browser performance tool, so be careful.\r\n    percent = easing(percent)\r\n\r\n    window.scrollTo(0, startingY + diff * percent)\r\n\r\n    // Proceed with animation as long as we wanted it to.\r\n    if (time < duration) {\r\n      window.requestAnimationFrame(step)\r\n    }\r\n  })\r\n}\r\n\r\n// Find all inner-page links and add event listener\r\nvar reURL = new RegExp(window.location.host);\r\nvar reID = /#.+/;\r\nvar links = document.getElementsByTagName(\"a\");\r\nfor (var i = 0; i < links.length; i++) {\r\n  const l = links[i];\r\n  if (reURL.test(l.href) && l.href.match(reID)) {\r\n    l.addEventListener(\"click\", () => {\r\n      doScrolling(l.href.match(reID)[0], 1500);\r\n      // Close the navigation links after navigating\r\n      header.classList.remove(\"open\");\r\n    });\r\n  }\r\n}\r\n"]}